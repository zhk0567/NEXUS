# 快速开始指南

## 环境准备

1. **安装微信开发者工具**
   - 下载地址：https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html
   - 安装最新版本的微信开发者工具

2. **准备后端服务器**
   - 确保 `nexus_backend.py` 正在运行
   - 默认地址：`http://192.168.50.205:5000`

## 项目配置

### 1. AppID配置

项目的AppID已配置：
- AppID: `wxc726bdd9b8ac6e5a`

在微信开发者工具中导入项目时，会自动识别AppID。如果需要在开发环境使用测试号，可以在编译设置中选择"不校验合法域名"。

### 2. 配置服务器地址

在 `utils/config.js` 中修改服务器地址：

```javascript
CURRENT_SERVER: 'http://your-server-ip:5000'
```

或者在设置页面中动态修改。

### 3. 配置域名白名单（生产环境）

在微信公众平台配置服务器域名：

1. 登录微信公众平台
2. 进入"开发" -> "开发管理" -> "开发设置"
3. 配置"服务器域名"：
   - request合法域名：`https://your-domain.com`
   - uploadFile合法域名：`https://your-domain.com`

## 导入项目

1. 打开微信开发者工具
2. 选择"导入项目"
3. 选择 `miniprogram` 目录
4. 输入项目名称：`NEXUS小程序`
5. 选择AppID（或使用测试号）
6. 点击"导入"

## 运行调试

1. 确保后端服务器正在运行
2. 在微信开发者工具中点击"编译"
3. 首次运行会跳转到登录页面
4. 使用与Android应用相同的账号登录

## 功能测试

### 文本聊天
1. 在输入框输入文字
2. 点击"发送"按钮
3. 查看AI回复

### 语音输入
1. 长按录音按钮
2. 说话后松开
3. 等待语音识别完成
4. 自动发送识别结果

### 语音播放
1. 点击AI消息的播放按钮
2. 等待语音生成
3. 自动播放语音回复

### 历史记录
1. 点击底部"历史"标签
2. 查看所有对话记录
3. 点击对话可切换查看

### 设置
1. 点击底部"设置"标签
2. 调整主题、字体大小
3. 修改服务器地址

## 常见问题

### 1. 网络请求失败
- 检查后端服务器是否运行
- 检查服务器地址是否正确
- 检查域名白名单配置（生产环境）

### 2. 录音功能不可用
- 检查是否授予录音权限
- 在设置中检查权限设置

### 3. 语音播放失败
- 检查网络连接
- 检查后端TTS服务是否正常
- 查看控制台错误信息

### 4. 登录失败
- 检查后端认证服务是否正常
- 检查用户名和密码是否正确
- 查看网络请求日志

## 开发调试

### 查看日志
- 在微信开发者工具的"调试器"中查看Console日志
- 查看Network标签查看网络请求

### 修改代码
- 修改代码后会自动编译
- 可以在"编译"设置中选择"编译时自动保存"

### 真机调试
1. 点击"预览"
2. 用微信扫描二维码
3. 在手机上测试功能

## 注意事项

1. **开发环境**：开发时可以不配置域名白名单，但发布前必须配置
2. **HTTPS**：生产环境必须使用HTTPS协议
3. **录音权限**：首次使用需要用户授权录音权限
4. **数据存储**：对话历史存储在微信小程序本地，清除缓存会丢失数据

## 下一步

- [ ] 添加更多语音选项
- [ ] 实现WebSocket实时通话
- [ ] 添加数据同步功能
- [ ] 优化UI界面
- [ ] 添加更多个性化设置

